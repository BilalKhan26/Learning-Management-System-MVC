@model IEnumerable<LMS.Models.Lesson>

@{
    ViewData["Title"] = "Lessons";
    var courseId = ViewBag.CourseId;
}

<h2>Lessons</h2>

@if (!Model.Any())
{
    <div class="alert alert-warning">No lessons available for this course yet.</div>
}
else
{
    <ul class="list-group">
        @foreach (var lesson in Model)
        {
            <li class="list-group-item">
                <h5>@lesson.Title</h5>
                <p>@lesson.Content</p>

                @if (!string.IsNullOrEmpty(lesson.MediaPath))
                {
                    <div class="mt-2">
                        <a href="@lesson.MediaPath" target="_blank">View Media</a>
                    </div>
                }
            </li>
        }
    </ul>
}

<div class="mt-3">
    <a asp-action="Assignments" asp-controller="StudentDashboard" asp-route-courseId="@courseId" class="btn btn-success">View Assignments</a>
    <a asp-action="MyCourses" class="btn btn-secondary">Back to My Courses</a>
</div>
